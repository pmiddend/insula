<?xml version="1.0" encoding="utf-8"?>  
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">  
	<head>  
		<title>insula - a simple and fun hot seat racing game</title>  
		<link rel="stylesheet" type="text/css" href="stylesheet.css" />
		<link rel="shortcut icon" href="images/favicon.png" />
	</head>  
	<body>
		<div id="main_column">
			<div style="float:left;">
				<h1>Table of contents</h1>
				<ol id="toc">
					<li>
						<a href="#about">About</a>
						<ol>
							<li>Abstract</li>
							<li>Game mode</li>
							<li>Goal</li>
						</ol>
					</li>
					<li>
						<a href="#getting_it">Getting it</a>
						<ol>
							<li>Warning</li>
							<li>Requirements</li>
							<li>Compilation step by step</li>
						</ol>
					</li>
					<li>
						<a href="#screenshots">Screenshots</a>
					</li>
					<li>
						<a href="#contact">Contact</a>
					</li>
				</ol>
			</div>
<!--			<img src="images/splash.png" alt="insula main logo" style="display:block;margin:auto"/> -->
				<img  src="images/splash.png" alt="insula main logo" style="" />
			<h2><a name="about"></a>About</h2>
			<h3>Abstract</h3>
			<p>
				insula is a an <em>arcade</em> racing game, meaning it doesn't
				focus on realism. It started as a simple graphics test for
				the <acronym title="spacegameengine">sge</acronym> game engine
				but soon became more than that. <strong>Note</strong> though:
				The game is still a "sandbox" to play with new features, it is
				not supposed to be stable or compatible with older or
				different compilers, architectures or graphics cards!
			</p>

			<h3>Game mode</h3>
			<p>
				The game is supposed to be played in <dfn>hot seat mode</dfn>,
				meaning: It's boring to play alone, yet there's no network
				support and no support for parallel play. So players have to
				take turns.
			</p>

			<h3>Goal</h3>
			<table class="floating_image">
				<tr><td>
					<img src="images/nugget.png" alt="Illustration of a nugget in-game"/>
				</td></tr>
				<tr><td>
					<span class="caption">Fig. 1: A nugget example</span>
				</td></tr>
			</table>
			<p>
				The goal for each player (they're all competing, no teams!) is
				to drive around the map and collect all "nuggets" as fast as
				possible. Nuggets are randomly placed coins which can be
				collected by driving through them (see fig.1). The nugget
				positions are generated <em>once</em>, not for each turn,so no
				player has the advantage of beneficial nugget placement (they
				could be all aligned in a row so you only have to hit the gas
				pedal once, it's random after all). The starting position is
				also the same for each player.
			</p>
			<h2><a name="getting_it"></a>Getting it</h2>
			<h3>Warning</h3>
				<p>
					Getting insula is not easy and you might not be able to compile it
					at all. Be patient, don't get frustrated, don't panic. :)
				</p>
			<h3>Requirements</h3>
			<h4>System</h4>
				insula uses <strong>OpenGL-3</strong>, so you need a fairly
				recent graphics card. Also, it's written
				in <strong>C++0x</strong> (see
				the <a href="http://en.wikipedia.org/wiki/C_0x">Wiki
				article</a> for
				more info), so you need a compiler that
				supports it. Currently,
				only <a href="http://gcc.gnu.org/"><dfn>&gt;=gcc-4.5</dfn></a>
				is a candidate,
				but <a href="http://clang.llvm.org/"><dfn>clang</dfn></a> and
				MSVC++-10 might work in the future, too (maybe even now, it's
				untested on those compilers).
			<h4>Libraries</h4>
				<p>
					insula relies on the following "main" libraries:
				</p>
				<ul>
					<li>
						<a href="http://www.boost.org/">boost</a> &#x2013; an
						essential C++ library (portable)
					</li>
					<li>
						<dfn>sge</dfn> (as mentioned above) &#x2013; the graphics engine,
						currently supporting <em>OpenGL</em> as a graphics
						backend, <em>OpenAL</em> as a sound backend
						and <em>libpng</em> to load images. You will need all of
						those dependencies. <strong>Currently only runs on
						Linux</strong>. Windows support is on the way, though.
					</li>
					<li>
						<a href="http://www.bulletphysics.com/">bullet</a> for the
						physics (portable)
					</li>
					<li>
						<a href="http://fcppt.net"><acronym title="Freundlich's
						C++ toolkit">fcppt</acronym></a> &#x2013; a C++ toolkit,
						similar to boost (which is already a dependency for sge,
						but insula relies heavily on it, too).
					</li>
					<li>
						<dfn>mizuiro</dfn> &#x2013; a templated image processing library
						(already a depenceny for sge), similar (but far superior to) <a href="http://opensource.adobe.com/wiki/display/gil/Generic+Image+Library">boost::gil</a>
					</li>
				</ul>
			<h3>Compilation step by step</h3>
			<h4>System</h4>
			<p>
				This installation guide will assume that you
				use <dfn>&gt;=gcc-4.5</dfn>. I will not explain how this is
				installed. It's highly dependant on the
				distribution. To <em>test</em> if you've got the right
				compiler, open a terminal and type:
			</p>
			<p>
				<kbd>gcc --version</kbd>
			</p>
			<p>
				It should output something like this:
			</p>
			<pre>
gcc (Gentoo 4.5.1 p1.0, pie-0.4.5) 4.5.1
Copyright (C) 2010 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
			</pre>
			<p>
				As you can see, I'm using gcc-4.5.1
				on <a href="http://gentoo.org">Gentoo Linux</a>. From now on
				I'll assume the right compiler is present.
			</p>
			<p>
				You'll also need <dfn>boost</dfn>. This is included in most
				Linux distributions and it's available on Windows,
				too. Installation is &#x2013; again &#x2013; distribution and
				operating system dependent and I'll not explain it here. You
				have to have a recent version of it, at least 1.44.
			</p>
			<p>
				You also need <a href="http://git-scm.com/">git</a> to
				download some of the libraries (not all of them are
				downloadable via http). You can download git
				from <a href="http://git-scm.com/download">here</a>. Compiling
				it from source is straightforward: just download, extract, go
				to the directory and do <kbd>./configure --prefix=/tmp &amp;&amp; make
				install</kbd>, assuming you want it installed in
				the <kbd>/tmp/</kbd> directory. git is, however, widely
				available on all operating systems.
			</p>
			<p>
				Last but not least, you
				need <a href="http://www.cmake.org/">&gt;=cmake-2.8</a>, which
				is portable and widely available, just as git.
			</p>
		<h4>A note about the process</h4>
		<p>
			I'm assuming you're only interested in trying out insula and you
			don't want permanent or system-wide changes to your Linux
			installation. So we're going to install all of the libraries in
			a separate (and later deletable) directory structure. I'll refer
			to the root of that directory structure as <code>ROOT</code>
			from now on. For example, insula will be located
			in <code>ROOT/insula</code>, sge will be installed
			in <code>ROOT/include/sge</code>, <code>ROOT/lib</code> and so
			on. 
		</p>
		<p>
			From now on I'll also assume that you opened a terminal (Konsole, xterm or whatever you prefer) and are able to type commands into it. The first command will be:
<pre>
export ROOT="/pick_a_directory"
export CPLUS_INCLUDE_PATH="${ROOT}/include:${CPLUS_INCLUDE_PATH}"
export LD_LIBRARY_PATH="${ROOT}/lib:${LD_LIBRARY_PATH}"
export LIBRARY_PATH="${ROOT}/lib:${LIBRARY_PATH}"
export PATH="${ROOT}/bin:${PATH}"
export PKG_CONFIG_PATH="${ROOT}/lib/pkgconfig:${PKG_CONFIG_PATH}"
cd $ROOT;
</pre>

		For example, you could pick <code>ROOT</code> as <code>/tmp/insula</code>
		</p>
		<h4>fcppt</h4>
		<p>
			Installation instructions for fcppt are already
			available <a href="http://fcppt.net/fcppt_/requirements__download_and_installation.html">here</a>
			but I'll explain it again here. Just for consistency.
		</p>
		<p>
			Get the latest version of fcppt either from the installation
			instruction page (see above) or from git using the
			command <kbd>git clone
			git://timeout.supraverse.net/fcppt.git</kbd>. This, of course,
			assumes that you have git installed. You end up with a directory
			called <code>fcppt</code>. Execute the following:
		</p>
<pre>
cd fcppt;
mkdir build;
cd build;
cmake -D CMAKE_INSTALL_PREFIX:=$ROOT ..;
</pre>

		<p>
			This should search for the correct boost library and the correct
			compiler and output some diagnostic messages. If you get an
			error that boost was not found, check if you've really got a
			version above 1.43. cmake also gives some information about the
			source of the problem. You might also see an error message
			indicating that your cmake version is not high enough (in which
			case you must, of course, update cmake).
		</p>
		<p>
			If the cmake command went well, you can start compilation (in
			the <kbd>build/</kbd> directory) with:
		</p>
<pre>
make install
</pre>
		<p>
			Which should take a few minutes on recent machines. If there are
			any errors while compiling fcppt, join
			our <a href="#contact">IRC channel</a> and report the problem.
		</p>
		<h4>mizuiro</h4>
		<p>
			mizuiro is easy to install because it's header-only. It's not
			stable, however, so you can only get it via git. The following
			commands download and install it:
		</p>
<pre>
cd $ROOT;
git clone git://timeout.supraverse.net/mizuiro;
cd mizuiro;
mkdir build;
cd build;
cmake -D CMAKE_INSTALL_PREFIX=$ROOT -D ENABLE_FCPPT ..;
make install;
</pre>
		<p>
			Again, if there are difficulties, feel free to contact us.
		</p>
		<h4>sge</h4>
		<p>
			sge is a big package, mostly because it depends on a few other
			libraries. To load images, you
			need <a href="http://www.libpng.org/pub/png/libpng.html">libpng</a>. There
			are no specific version requirements here and chances are you
			already have this installed. If not, download the latest version
			from the web site and put it in <code>$ROOT</code>. Extract it (with <kbd>tar xzf filename</kbd> for example), then execute the following:
		</p>
<pre>
cd libpng*;
./configure --prefix=$ROOT &amp;&amp; make install
</pre>
		<p>
			Next thing you need
			is <a href="http://connect.creativelabs.com/openal/default.aspx">OpenAL</a>. In the risk of sounding like a broken record: this library also is available on Windows and all Linux distributions, so you can install it easily. However, if not, see the following:
		</p>
		<p>
			First of all, more than one implementation of this open standard is
			available. We
			use <a href="http://kcat.strangesoft.net/openal.html">OpenAL-soft</a>. Download
			the latest version, extract it to <code>$ROOT</code> and the do
			the old cmake trick:
		</p>
<pre>
cd openal-soft*/build;
cmake -D CMAKE_INSTALL_PREFIX=$ROOT ..;
make install
</pre>
		<p>
			Since there's music in the game, too, and OpenAL doesn't load
			audio files, we need yet another library, two
			even: libogg and libvorbis, both downloadable
			from <a href="http://www.xiph.org/downloads/">here</a>. If they're not available for your platform, download them, extract both to <code>$ROOT</code> and execute:
		</p>
<pre>
cd libogg*;
./configure --prefix=$ROOT &amp;&amp; make &amp;&amp; make install;
cd ../libvorbis*;
./configure --prefix=$ROOT  &amp;&amp; make &amp;&amp; make install;
</pre>
		<p>
			Now on
			to <a href="http://freetype.sourceforge.net/index2.html">freetype</a>,
			which is responsible for loading the truetype fonts. Download the latest version, extract it to <code>$ROOT</code> and execute
		</p>
<pre>
cd freetype*;
./configure --prefix=$ROOT &amp;&amp; make &amp;&amp; make install
</pre>
		<p>
			Since sge uses libx11 to open an X11 window you need this
			library plus its headers, too. This is implementation dependant
			and will not be described here. The same goes for libGL an
			libGLU, which are also required. On Debian-like systems you need
			the *-dev packages for the libraries (not just the libraries
			themselves).
		</p>	
		<p>
			Hopefully, by now, you should finally be able to install
			sge. Like mizuiro, this library doesn't have any official
			releases yet and is thus only available via git: <kbd>git clone
			git://timeout.supraverse.net/spacegameengine.git</kbd>. Install it via:
		</p>
<pre>
cd spacegameengine;
mkdir build;
cd build;
cmake -D CMAKE_INSTALL_PREFIX=$ROOT ..;
make install
</pre>
		<p>
			sge should automatically enable all the plugins we just
			installed. Watch the cmake output closely to see if anything
			went wrong or was omitted.
		</p>
		<p>
			The installation should take about 20 minutes on a recent machine.
		</p>
		<h4>insula</h4>
		<p>
			insula needs bullet for the physics part, which can be
			downloaded
			from <a href="http://code.google.com/p/bullet/downloads/list">here</a>. Extract
			it to <code>$ROOT</code> and execute
		</p>
<pre>
cd bullet*;
mkdir build;
cmake -D CMAKE_INSTALL_PREFIX=$ROOT -D BUILD_SHARED_LIBS=ON -D INSTALL_LIBS=ON -D INSTALL_EXTRA_LIBS=ON ..;
make install;
mkdir -p $ROOT/lib/pkgconfig
echo "prefix=${ROOT}" > $ROOT/lib/pkgconfig/bullet.pc
echo "exec_prefix=${prefix}" >> $ROOT/lib/pkgconfig/bullet.pc
echo "libdir=${exec_prefix}/lib" >> $ROOT/lib/pkgconfig/bullet.pc
echo "includedir=${prefix}/include" >> $ROOT/lib/pkgconfig/bullet.pc
echo "Name: bullet" >> $ROOT/lib/pkgconfig/bullet.pc
echo "Description: Bullet Continuous Collision Detection and Physics Library" >> $ROOT/lib/pkgconfig/bullet.pc
echo "Requires:" >> $ROOT/lib/pkgconfig/bullet.pc
echo "Version: 2.76" >> $ROOT/lib/pkgconfig/bullet.pc
echo "Libs: -L${libdir} -lBulletSoftBody -lBulletDynamics -lBulletCollision -lLinearMath" >> $ROOT/lib/pkgconfig/bullet.pc
echo "Cflags: -I${includedir}/bullet" >> $ROOT/lib/pkgconfig/bullet.pc
</pre>
		<p>
			Now, finally, you're able to install insula. Get it via <kbd>git clone git://github.com/Phillemann/insula.git</kbd> and execute
		</p>
<pre>
cd insula;
mkdir build;
cd build;
cmake -D CMAKE_INSTALL_PREFIX=$ROOT ..;
make
</pre>
		<p>
			This should take about 10 minutes on a recent machine. When the
			compilation process is finished, there's an executable in the
			build directory called <code>insula</code>. You can start a game
			with, for example, two players via:
		</p>
<pre>
build/insula --player foo --player bar
</pre>
		<h2><a name="screenshots"></a>Screenshots</h2>
			<table id="screenshot_table">
				<tr>
					<td><a href="images/screen1.jpg"><img src="images/screen1_thumb.jpg" alt="Screenshot"/></a></td>
					<td><a href="images/screen2.jpg"><img src="images/screen2_thumb.jpg" alt="Screenshot"/></a></td>
				</tr>
				<tr>
					<td><span class="caption">Some nice water reflection effects</span></td>
					<td><span class="caption">The ingame perspective with the &#x2013; hopefully not copyrighted &#x2013; car "van.json"</span></td>
				</tr>
				<tr>
					<td><a href="images/screen3.jpg"><img src="images/screen3_thumb.jpg" alt="Screenshot"/></a></td>
					<td><a href="images/screen4.jpg"><img src="images/screen4_thumb.jpg" alt="Screenshot"/></a></td>
				</tr>
				<tr>
					<td><span class="caption">Note that the arrow shows the way to the nearest nugget</span></td>
					<td><span class="caption">A full view of the test level. Note the sharp boundaries of the water and the non-shaded palm trees. There's some work left to be done.</span></td>
				</tr>
			</table>
			<h2><a name="contact"></a>Contact</h2>
				If you want to talk to me, go to #sge-sanguis on irc.freenode.org
		</div>
	</body>  
</html>
